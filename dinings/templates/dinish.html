{% extends 'base.html' %}

{% block title %}Dining | The Grand Retreat{% endblock %}

{% block content %}
<style>
  body { font-family: 'Open Sans', sans-serif; background-color: #f8f9fa; }
  h1, h2, h3 { font-family: 'Playfair Display', serif; }
 .hero-section { background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.pexels.com/photos/262978/pexels-photo-262978.jpeg') center/cover no-repeat; color: white; padding: 100px 20px; text-align: center; }
  .btn-gold { background-color: #d4af37; color: #000; font-weight: 600; border-radius: 50px; }
  .btn-gold:hover { background-color: #b9982e; color: #fff; }
  .menu-section { background-color: #fff; padding: 60px 0; }
  .menu-item { border-bottom: 1px solid #ddd; padding: 15px 0; }
  .text-gold { color: #d4af37; }
  .modal-content { background-color: #1c1c1c; border-radius: 10px; color: white; }
  .nav-tabs .nav-link.active { background-color: transparent; border: none; color: #d4af37; font-weight: bold; }
  .nav-tabs .nav-link { color: #aaa; }
  .form-control { background-color: #2c2c2c; border: 1px solid #555; color: #fff; }
  .form-control:focus { border-color: #d4af37; box-shadow: none; }
  .footer-link { display: block; color: #ccc; margin-bottom: 0.5rem; transition: all 0.3s ease; text-decoration: none; }
  .footer-link:hover { color: #d4af37; padding-left: 5px; }
</style>

<!-- Hero Section -->
<section class="hero-section">
  <div class="container">
    <h1 class="display-5 fw-bold">Exquisite Dining Experience</h1>
    <p class="lead">Taste culinary delights crafted by our master chefs</p>
    <a href="#book-table" class="btn btn-gold mt-3">Reserve a Table</a>
  </div>
</section>

<!-- Menu Section -->
<section class="menu-section" data-aos="fade-up">
  <div class="container">
    <h2 class="text-center text-gold mb-5">Our Signature Dishes</h2>
    <div class="row g-4">
      <!-- Example dishes, can be dynamic -->
      <div class="col-md-4" data-aos="fade-up">
        <div class="card dish-card">
          <img src="https://images.pexels.com/photos/4913976/pexels-photo-4913976.jpeg" class="card-img-top" alt="Grilled Salmon" />
          <div class="card-body">
            <h5 class="card-title">Grilled Salmon</h5>
            <p class="card-text text-muted">Fresh Atlantic salmon grilled to perfection with herbs & lemon butter.</p>
          </div>
        </div>
      </div>
      <div class="col-md-4" data-aos="fade-up" data-aos-delay="100">
        <div class="card dish-card">
          <img src="https://images.pexels.com/photos/616353/pexels-photo-616353.jpeg" class="card-img-top" alt="Truffle Pasta" />
          <div class="card-body">
            <h5 class="card-title">Truffle Pasta</h5>
            <p class="card-text text-muted">Silky tagliatelle tossed with black truffle cream and parmesan flakes.</p>
          </div>
        </div>
      </div>
      <div class="col-md-4" data-aos="fade-up" data-aos-delay="150">
        <div class="card dish-card">
          <img src="https://images.pexels.com/photos/3184192/pexels-photo-3184192.jpeg" class="card-img-top" alt="Gourmet Steak" />
          <div class="card-body">
            <h5 class="card-title">Gourmet Steak</h5>
            <p class="card-text text-muted">Aged tenderloin cooked medium-rare with wine reduction and roasted veggies.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Book a Table -->
<section class="bg-dark text-white py-5" data-aos="fade-up" id="book-table">
  <div class="container">
    <h2 class="text-center mb-4 text-gold">Reserve Your Table</h2>
    <div class="row justify-content-center">
      <div class="col-md-6">
        {% if tables %}
          <form method="POST" action="{% url 'book_table' table_id=0 %}" class="bg-black p-4 rounded-4 shadow">
            {% csrf_token %}
            <div class="mb-3">
              <label class="form-label">Choose Table</label>
              <select name="table_id" class="form-select" required>
                {% for table in tables %}
                  <option value="{{ table.id }}">Table {{ table.table_number }} (Seats: {{ table.capacity }})</option>
                {% endfor %}
              </select>
            </div>
            <div class="mb-3">
              <label class="form-label">Date</label>
              <input type="date" name="reservation_date" class="form-control" required />
            </div>
            <div class="mb-3">
              <label class="form-label">Time</label>
              <input type="time" name="reservation_time" class="form-control" required />
            </div>
            <div class="text-center">
              <button type="submit" class="btn btn-gold px-5 py-2">Book Table</button>
            </div>
          </form>
        {% else %}
          <p class="text-center text-white">No tables available at the moment.</p>
        {% endif %}

        {% if messages %}
          <div class="mt-3">
            {% for message in messages %}
              <div class="alert alert-{{ message.tags }}">{{ message }}</div>
            {% endfor %}
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</section>

{% endblock %}
